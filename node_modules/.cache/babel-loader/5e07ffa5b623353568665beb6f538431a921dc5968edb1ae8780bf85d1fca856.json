{"ast":null,"code":"import axios from 'axios';\n\n// Base URL for Chess.com API\nconst CHESS_API_BASE_URL = 'https://api.chess.com/pub';\n\n// Function to get player profile details\nexport const getPlayerProfile = async username => {\n  try {\n    const response = await axios.get(`${CHESS_API_BASE_URL}/player/${username}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching player profile:', error);\n    throw error;\n  }\n};\n\n// Add more functions here if needed for other Chess.com API endpoints\nexport const followPlayer = async username => {\n  const token = localStorage.getItem('token');\n  return axios.post('/api/follow-player', {\n    chessPlayerUsername: username\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const unfollowPlayer = async chessPlayerUsername => {\n  const token = localStorage.getItem('token');\n  return axios.delete(`/api/unfollow-player/${chessPlayerUsername}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const getFollowers = async chessPlayerUsername => {\n  return axios.get(`/api/player/${chessPlayerUsername}/followers`);\n};\n\n// 在 chessApi.js 中添加\n\nexport const getPlayersByTitle = async title => {\n  try {\n    const response = await axios.get(`${CHESS_API_BASE_URL}/titled/${title}`);\n    return response.data.players;\n  } catch (error) {\n    console.error('Error fetching players by title:', error);\n    throw error;\n  }\n};\nexport const addComment = async (chessPlayerUsername, comment) => {\n  const token = localStorage.getItem('token');\n  return axios.post('/api/comment-player', {\n    chessPlayerUsername,\n    comment\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const getComments = async chessPlayerUsername => {\n  return axios.get(`/api/comments/${chessPlayerUsername}`);\n};","map":{"version":3,"names":["axios","CHESS_API_BASE_URL","getPlayerProfile","username","response","get","data","error","console","followPlayer","token","localStorage","getItem","post","chessPlayerUsername","headers","Authorization","unfollowPlayer","delete","getFollowers","getPlayersByTitle","title","players","addComment","comment","getComments"],"sources":["/Users/levi/Desktop/chess/online-chess-react-platform/src/api/chessApi.js"],"sourcesContent":["import axios from 'axios';\n\n// Base URL for Chess.com API\nconst CHESS_API_BASE_URL = 'https://api.chess.com/pub';\n\n// Function to get player profile details\nexport const getPlayerProfile = async (username) => {\n    try {\n        const response = await axios.get(`${CHESS_API_BASE_URL}/player/${username}`);\n        return response.data;\n    } catch (error) {\n        console.error('Error fetching player profile:', error);\n        throw error;\n    }\n};\n\n// Add more functions here if needed for other Chess.com API endpoints\nexport const followPlayer = async (username) => {\n    const token = localStorage.getItem('token');\n    return axios.post('/api/follow-player', { chessPlayerUsername: username }, {\n        headers: { Authorization: `Bearer ${token}` }\n    });\n};\n  \nexport const unfollowPlayer = async (chessPlayerUsername) => {\n    const token = localStorage.getItem('token');\n    return axios.delete(`/api/unfollow-player/${chessPlayerUsername}`, {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n};\n  \n  export const getFollowers = async (chessPlayerUsername) => {\n    return axios.get(`/api/player/${chessPlayerUsername}/followers`);\n};\n\n// 在 chessApi.js 中添加\n\nexport const getPlayersByTitle = async (title) => {\n    try {\n        const response = await axios.get(`${CHESS_API_BASE_URL}/titled/${title}`);\n        return response.data.players;\n    } catch (error) {\n        console.error('Error fetching players by title:', error);\n        throw error;\n    }\n};\n\n\nexport const addComment = async (chessPlayerUsername, comment) => {\n    const token = localStorage.getItem('token');\n    return axios.post('/api/comment-player', { chessPlayerUsername, comment }, {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n  };\n  \n  export const getComments = async (chessPlayerUsername) => {\n    return axios.get(`/api/comments/${chessPlayerUsername}`);\n  };"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,kBAAkB,GAAG,2BAA2B;;AAEtD;AACA,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,QAAQ,IAAK;EAChD,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAE,GAAEJ,kBAAmB,WAAUE,QAAS,EAAC,CAAC;IAC5E,OAAOC,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACtD,MAAMA,KAAK;EACf;AACJ,CAAC;;AAED;AACA,OAAO,MAAME,YAAY,GAAG,MAAON,QAAQ,IAAK;EAC5C,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,OAAOZ,KAAK,CAACa,IAAI,CAAC,oBAAoB,EAAE;IAAEC,mBAAmB,EAAEX;EAAS,CAAC,EAAE;IACvEY,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASN,KAAM;IAAE;EAChD,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMO,cAAc,GAAG,MAAOH,mBAAmB,IAAK;EACzD,MAAMJ,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,OAAOZ,KAAK,CAACkB,MAAM,CAAE,wBAAuBJ,mBAAoB,EAAC,EAAE;IACjEC,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASN,KAAM;IAAE;EAC9C,CAAC,CAAC;AACN,CAAC;AAEC,OAAO,MAAMS,YAAY,GAAG,MAAOL,mBAAmB,IAAK;EACzD,OAAOd,KAAK,CAACK,GAAG,CAAE,eAAcS,mBAAoB,YAAW,CAAC;AACpE,CAAC;;AAED;;AAEA,OAAO,MAAMM,iBAAiB,GAAG,MAAOC,KAAK,IAAK;EAC9C,IAAI;IACA,MAAMjB,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAE,GAAEJ,kBAAmB,WAAUoB,KAAM,EAAC,CAAC;IACzE,OAAOjB,QAAQ,CAACE,IAAI,CAACgB,OAAO;EAChC,CAAC,CAAC,OAAOf,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IACxD,MAAMA,KAAK;EACf;AACJ,CAAC;AAGD,OAAO,MAAMgB,UAAU,GAAG,MAAAA,CAAOT,mBAAmB,EAAEU,OAAO,KAAK;EAC9D,MAAMd,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,OAAOZ,KAAK,CAACa,IAAI,CAAC,qBAAqB,EAAE;IAAEC,mBAAmB;IAAEU;EAAQ,CAAC,EAAE;IACzET,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASN,KAAM;IAAE;EAC9C,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMe,WAAW,GAAG,MAAOX,mBAAmB,IAAK;EACxD,OAAOd,KAAK,CAACK,GAAG,CAAE,iBAAgBS,mBAAoB,EAAC,CAAC;AAC1D,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}